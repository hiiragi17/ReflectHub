# ReflectHub Phase 3 è©³ç´°è¨­è¨ˆæ›¸

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±

| é …ç›® | å†…å®¹ |
|-----|-----|
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå** | ReflectHub Phase 3 è©³ç´°è¨­è¨ˆæ›¸ |
| **ãƒãƒ¼ã‚¸ãƒ§ãƒ³** | 1.0 |
| **ä½œæˆæ—¥** | 2025-11-18 |
| **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹** | Draft |
| **å¯¾å¿œã™ã‚‹Issue** | #39 |
| **æœŸé–“** | Phase 3ï¼ˆ21æ—¥é–“å®Ÿè£…è¨ˆç”»ï¼‰ |

---

## ç›®æ¬¡

1. [æ¦‚è¦ãƒ»ç›®çš„](#1-æ¦‚è¦ç›®çš„)
2. [è¨­è¨ˆæ–¹é‡ãƒ»åŸå‰‡](#2-è¨­è¨ˆæ–¹é‡åŸå‰‡)
3. [å„æ©Ÿèƒ½ã®è©³ç´°è¨­è¨ˆ](#3-å„æ©Ÿèƒ½ã®è©³ç´°è¨­è¨ˆ)
   - [3.1 PWAæ©Ÿèƒ½](#31-pwaæ©Ÿèƒ½)
   - [3.2 AIåˆ†ææ©Ÿèƒ½](#32-aiåˆ†ææ©Ÿèƒ½)
   - [3.3 çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰](#33-çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰)
4. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ãƒ»æ§‹æˆ](#4-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆ)
5. [APIè¨­è¨ˆ](#5-apiè¨­è¨ˆ)
6. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ‹¡å¼µ](#6-ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ‹¡å¼µ)
7. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ](#7-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ)
8. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#8-ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
9. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»æœ€é©åŒ–](#9-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
10. [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ»ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ](#10-ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ)
11. [å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«](#11-å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«)
12. [ãƒªã‚¹ã‚¯ç®¡ç†](#12-ãƒªã‚¹ã‚¯ç®¡ç†)

---

## 1. æ¦‚è¦ãƒ»ç›®çš„

### 1.1 Phase 3 ã®ç›®æ¨™

ReflectHub ã¯ç¾åœ¨ã€åŸºæœ¬çš„ãªæŒ¯ã‚Šè¿”ã‚Šè¨˜éŒ²ãƒ»ç®¡ç†æ©Ÿèƒ½ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚Phase 3 ã§ã¯ä»¥ä¸‹ã®é ˜åŸŸã‚’æ‹¡å¼µã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã‚ˆã‚Šé«˜ã„ä¾¡å€¤ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚

| é ˜åŸŸ | ç›®æ¨™ | å®ŒæˆçŠ¶æ…‹ |
|-----|------|--------|
| **PWAåŒ–** | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ | Web Appã¨ã—ã¦ã®Installation ready |
| **AIåˆ†æ** | æŒ¯ã‚Šè¿”ã‚Šã®è‡ªå‹•åˆ†æãƒ»ã‚¤ãƒ³ã‚µã‚¤ãƒˆç”Ÿæˆ | OpenAI APIçµ±åˆã€åˆ†æãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º |
| **çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æˆé•·ã‚’å¯è¦–åŒ– | ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** | æœ¬ç•ªç’°å¢ƒã¸ã®è€æ€§ç¢ºä¿ | CSRFå¯¾ç­–ã€å…¥åŠ›æ¤œè¨¼å¼·åŒ–ã€ç›£è¦–æ©Ÿæ§‹ |
| **ãƒ†ã‚¹ãƒˆä½“åˆ¶ç¢ºç«‹** | å“è³ªä¿è¨¼ãƒ»å›å¸°ãƒ†ã‚¹ãƒˆ | Unitãƒ»Integrationãƒ»E2E ãƒ†ã‚¹ãƒˆã®å®Ÿè£… |
| **æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤** | Vercelä¸Šã§ã®å®‰å®šç¨¼åƒ | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã€ã‚¨ãƒ©ãƒ¼ç›£è¦–ã€ãƒ›ãƒƒãƒˆã‚¹ã‚¿ãƒ³ãƒã‚¤ |

### 1.2 ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ»å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

- **Primary User**: æ—¥æœ¬ã®è‹¥æ‰‹ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³ï¼ˆ25-40ä»£ï¼‰
- **Use Case**: æ—¥ã€…ã®æŒ¯ã‚Šè¿”ã‚Šã€è‡ªå·±æˆé•·ã®è¨˜éŒ²ãƒ»åˆ†æ
- **ç’°å¢ƒ**: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»PCã§ã®ã‚¢ã‚¯ã‚»ã‚¹

### 1.3 æˆåŠŸæŒ‡æ¨™

| KPI | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|-----|--------|--------|
| **Lighthouse ã‚¹ã‚³ã‚¢** | 90ä»¥ä¸Š | Vercel Analytics |
| **ãƒšãƒ¼ã‚¸é·ç§»é€Ÿåº¦** | < 2ç§’ | Core Web Vitals |
| **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** | > 80% | Vitest + Istanbul |
| **APIå¿œç­”æ™‚é–“** | < 500ms | APMï¼ˆApplication Performance Monitoringï¼‰ |
| **å¯ç”¨æ€§** | 99.5%ä»¥ä¸Š | ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |

---

## 2. è¨­è¨ˆæ–¹é‡ãƒ»åŸå‰‡

### 2.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ–¹é‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                â”‚
â”‚  (React Components + Tailwind + shadcn/ui)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Business Logic Layer                   â”‚
â”‚  (Hooks + Services + React Query)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Data Access Layer                       â”‚
â”‚  (Supabase SDK + API Routes)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Infrastructure Layer                      â”‚
â”‚  (Supabase DB + OpenAI API + Vercel)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 è¨­è¨ˆåŸå‰‡

1. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ€§**: å„æ©Ÿèƒ½ã¯ç‹¬ç«‹ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦è¨­è¨ˆ
2. **å†åˆ©ç”¨æ€§**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ•ãƒƒã‚¯ã®æœ€å¤§åŒ–
3. **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§**: ä¾å­˜æ€§æ³¨å…¥ã€ãƒ¢ãƒƒã‚¯åŒ–ãŒå®¹æ˜“ãªè¨­è¨ˆ
4. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: å°†æ¥ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å¢—åŠ ã«å¯¾å¿œå¯èƒ½ãªè¨­è¨ˆ
5. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å„ªå…ˆ**: OWASP Top 10ã‚’å¿µé ­ã«è¨­è¨ˆ
6. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒƒãƒ‰å„ªå…ˆ**: æ—¥æœ¬èªè¡¨è¨˜ã€ã‚ã‹ã‚Šã‚„ã™ã„UIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
7. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Core Web Vitals ã‚’ç¶™ç¶šç›£è¦–

### 2.3 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- **è¨€èª**: TypeScriptï¼ˆstrict ãƒ¢ãƒ¼ãƒ‰ï¼‰
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: React Function Components + Hooks
- **ã‚¹ã‚¿ã‚¤ãƒ«**: Tailwind CSS + shadcn/ui
- **çŠ¶æ…‹ç®¡ç†**: Zustandï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ï¼‰+ React Queryï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ†ãƒ¼ãƒˆï¼‰
- **å‘½å**: camelCaseï¼ˆå¤‰æ•°ãƒ»é–¢æ•°ï¼‰ã€PascalCaseï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **: Feature-based directory structure

---

## 3. å„æ©Ÿèƒ½ã®è©³ç´°è¨­è¨ˆ

### 3.1 PWAæ©Ÿèƒ½

#### 3.1.1 æ¦‚è¦

Progressive Web App (PWA) åŒ–ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ãƒ—ãƒªã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã«ãªã‚Šã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã®æ©Ÿæœ¬æ©Ÿèƒ½ã®ä½¿ç”¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

#### 3.1.2 å®Ÿè£…è¦ä»¶

| è¦ä»¶ | è©³ç´° | å„ªå…ˆåº¦ |
|-----|-----|--------|
| **Web App Manifest** | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€ã‚¢ã‚¤ã‚³ãƒ³å®šç¾© | P0 |
| **Service Worker** | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ | P0 |
| **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ** | Install UIè¡¨ç¤ºãƒ»å‹•ä½œ | P1 |
| **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½** | æŒ¯ã‚Šè¿”ã‚Šã®ä¸€æ™‚ä¿å­˜ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | P1 |
| **ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥** | æ—¥æ¬¡ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | P2 |

#### 3.1.3 Web App Manifest è¨­è¨ˆ

```json
{
  "name": "ReflectHub - æŒ¯ã‚Šè¿”ã‚Šã®åŠ›ã§æˆé•·ã‚’è¨˜éŒ²",
  "short_name": "ReflectHub",
  "description": "æ—¥ã€…ã®æˆé•·ã‚’è¨˜éŒ²ã—ã€AIåˆ†æã§è‡ªå·±æˆé•·ã‚’ä¿ƒé€²ã™ã‚‹Webã‚¢ãƒ—ãƒª",
  "start_url": "/dashboard",
  "scope": "/",
  "display": "standalone",
  "orientation": "portrait-primary",
  "theme_color": "#1f2937",
  "background_color": "#ffffff",
  "icons": [
    {
      "src": "/icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/icons/icon-256x256.png",
      "sizes": "256x256",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/icons/icon-384x384.png",
      "sizes": "384x384",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/icons/icon-maskable-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "maskable"
    }
  ],
  "screenshots": [
    {
      "src": "/screenshots/screenshot-1.png",
      "sizes": "540x720",
      "type": "image/png",
      "form_factor": "narrow"
    },
    {
      "src": "/screenshots/screenshot-2.png",
      "sizes": "1920x1080",
      "type": "image/png",
      "form_factor": "wide"
    }
  ],
  "shortcuts": [
    {
      "name": "æ–°è¦æŒ¯ã‚Šè¿”ã‚Šä½œæˆ",
      "short_name": "æ–°è¦ä½œæˆ",
      "description": "æ–°ã—ã„æŒ¯ã‚Šè¿”ã‚Šã‚’è¨˜éŒ²ã™ã‚‹",
      "url": "/reflection?mode=new",
      "icons": [
        {
          "src": "/icons/shortcut-new.png",
          "sizes": "192x192"
        }
      ]
    }
  ],
  "categories": ["productivity", "education"]
}
```

#### 3.1.4 Service Worker æˆ¦ç•¥

```typescript
// ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥: Stale-While-Revalidateï¼ˆSWRï¼‰
// - å„ªå…ˆåº¦ï¼šHigh
//   1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å¿œç­”ï¼ˆå³åº§ï¼‰
//   2. ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ›´æ–°
//   3. æ–°é®®ãªãƒ‡ãƒ¼ã‚¿ã¯IndexedDBã«ä¿å­˜

// ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡:
// - Static Assets: /public/** (æ°¸ç¶š)
// - HTML: /(dashboard|reflection|history)/* (30åˆ†)
// - API: /api/** (5åˆ†)
// - Images: /images/** (7æ—¥)

// Network First:
// - /api/auth/** (èªè¨¼é–¢é€£)
// - /api/reflections/** (ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚)

// Cache Only:
// - /fonts/** (Webãƒ•ã‚©ãƒ³ãƒˆ)
// - /icons/** (ã‚¢ã‚¤ã‚³ãƒ³)
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `public/sw.js`

#### 3.1.5 ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

```typescript
// IndexedDB ã‚¹ã‚­ãƒ¼ãƒ
interface OfflineDraft {
  id: string;
  framework_id: string;
  content: Record<string, string>;
  created_at: string;
  synced: boolean;
}

// ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®å‹•ä½œ:
// 1. ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ› â†’ IndexedDB ã«ä¿å­˜
// 2. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¾©å¸° â†’ è‡ªå‹•åŒæœŸ
// 3. åŒæœŸå¤±æ•— â†’ ãƒ­ãƒ¼ã‚«ãƒ«é€šçŸ¥ + ãƒªãƒˆãƒ©ã‚¤
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/lib/indexeddb/draftStore.ts`
- `src/hooks/useOfflineSync.ts`

#### 3.1.6 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ˜ãƒƒãƒ€ãƒ¼ ãƒãƒŠãƒ¼ (ã‚¹ãƒãƒ›ã®ã¿è¡¨ç¤º)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  "ReflectHub ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"          â”‚
â”‚                                     â”‚
â”‚  [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]  [å¾Œã§]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒˆãƒªã‚¬ãƒ¼**: `beforeinstallprompt` ã‚¤ãƒ™ãƒ³ãƒˆ
**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/common/InstallPrompt.tsx`

---

### 3.2 AIåˆ†ææ©Ÿèƒ½

#### 3.2.1 æ¦‚è¦

OpenAI API ã‚’çµ±åˆã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ¯ã‚Šè¿”ã‚Šå†…å®¹ã‹ã‚‰è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚æˆé•·ãƒã‚¤ãƒ³ãƒˆã€æ”¹å–„ææ¡ˆã€ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æã‚’æä¾›ã—ã€è‡ªå·±æˆé•·ã‚’ä¿ƒé€²ã—ã¾ã™ã€‚

#### 3.2.2 åˆ†ææ©Ÿèƒ½ä¸€è¦§

| æ©Ÿèƒ½ | èª¬æ˜ | API ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å„ªå…ˆåº¦ |
|-----|------|-------------|--------|
| **æˆé•·åˆ†æ** | å‰é€±æ¯”ã®æˆé•·ã‚’æ¤œå‡º | gpt-4-turbo | P0 |
| **æ”¹å–„ææ¡ˆ** | ã€ŒProblemã€ã€ŒTryã€ã‹ã‚‰æ”¹å–„æ¡ˆç”Ÿæˆ | gpt-4-turbo | P0 |
| **ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜** | è¤‡æ•°é€±ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‚¾å‘æŠ½å‡º | gpt-4-turbo | P1 |
| **æ°—åˆ†ãƒˆãƒ¬ãƒ³ãƒ‰** | æ„Ÿæƒ…ã‚¹ã‚³ã‚¢ï¼ˆSentiment Analysisï¼‰ | gpt-3.5-turbo | P1 |
| **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º** | ã‚¿ã‚°ã®è‡ªå‹•ææ¡ˆ | gpt-3.5-turbo | P2 |

#### 3.2.3 API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ

```
POST /api/ai/analyze
  Request:
    {
      reflection_id: string;
      framework: "YWT" | "KPT";
      content: Record<string, string>;
      context?: {
        previous_reflections?: Reflection[];
        date_range?: [string, string];
      }
    }

  Response:
    {
      analysis_id: string;
      insights: {
        growth_points: string[];
        improvement_suggestions: string[];
        emotional_trend: "positive" | "neutral" | "negative";
        key_achievements: string[];
        challenges: string[];
      };
      recommendations: {
        actions: string[];
        focus_areas: string[];
      };
      generated_at: string;
      tokens_used: number;
    }
```

#### 3.2.4 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŒ¯ã‚Šè¿”ã‚Šä½œæˆ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIåˆ†æãƒˆãƒªã‚¬ãƒ¼          â”‚
â”‚  (ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒœã‚¿ãƒ³ã¾ãŸã¯   â”‚
â”‚   è‡ªå‹•ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OpenAI APIå‘¼ã³å‡ºã—      â”‚
â”‚  (Streamingå¯¾å¿œ)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ†æçµæœã‚’DBä¿å­˜        â”‚
â”‚  (analyses ãƒ†ãƒ¼ãƒ–ãƒ«)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UIä¸Šã«çµæœè¡¨ç¤º          â”‚
â”‚  (ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ã)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2.5 å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ services/
â”‚   â””â”€â”€ aiAnalysisService.ts       # AIåˆ†æãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ api/
â”‚   â””â”€â”€ ai/
â”‚       â””â”€â”€ analyze/route.ts       # POST /api/ai/analyze
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”œâ”€â”€ AnalysisPanel.tsx      # åˆ†æçµæœè¡¨ç¤ºãƒ‘ãƒãƒ«
â”‚   â”‚   â”œâ”€â”€ InsightCard.tsx        # ã‚¤ãƒ³ã‚µã‚¤ãƒˆã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ RecommendationList.tsx # æ”¹å–„ææ¡ˆãƒªã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ EmotionalTrend.tsx     # æ„Ÿæƒ…ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º
â”‚   â””â”€â”€ reflection/
â”‚       â””â”€â”€ AnalyzedReflection.tsx # åˆ†æä»˜ãæŒ¯ã‚Šè¿”ã³è¡¨ç¤º
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useAIAnalysis.ts          # åˆ†æã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â””â”€â”€ types/
    â””â”€â”€ analysis.ts               # åˆ†æé–¢é€£å‹å®šç¾©
```

#### 3.2.6 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

1. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ãŸã‚Š1æ—¥3å›ã¾ã§
2. **èªè¨¼**: API Routes ã§èªè¨¼ç¢ºèª
3. **ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ç®¡ç†**: æœˆé¡ãƒˆãƒ¼ã‚¯ãƒ³ä¸Šé™ã®è¨­å®š
4. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–**: å…¥åŠ›ã®å³å¯†ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
5. **ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆæƒ…å ±ä¿è­·**: å€‹äººæƒ…å ±ã®é™¤å¤–ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼

---

### 3.3 çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

#### 3.3.1 æ¦‚è¦

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ¯ã‚Šè¿”ã‚Šå±¥æ­´ã‹ã‚‰çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•è¨ˆç®—ã—ã€æˆé•·ã®å¯è¦–åŒ–ã‚’æä¾›ã—ã¾ã™ã€‚ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆãƒ»ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ã‚’å«ã¿ã¾ã™ã€‚

#### 3.3.2 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ / Analytics              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç·æŒ¯ã‚Šè¿”ã—æ•°     â”‚  â”‚  ä»Šæœˆã®æŒ¯ã‚Šè¿”ã—   â”‚   â”‚
â”‚  â”‚     42å›        â”‚  â”‚      12å›       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  é€£ç¶šæ—¥æ•°        â”‚  â”‚  å¹³å‡æ–‡å­—æ•°       â”‚   â”‚
â”‚  â”‚     7æ—¥        â”‚  â”‚    450æ–‡å­—      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æŒ¯ã‚Šè¿”ã—é »åº¦ï¼ˆéå»30æ—¥ï¼‰                 â”‚  â”‚
â”‚  â”‚  [Line Chart]                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯â”‚  â”‚ æ°—åˆ†åˆ†æ    â”‚           â”‚
â”‚  â”‚  ä½¿ç”¨åˆ†å¸ƒ    â”‚  â”‚  (Sentiment)â”‚           â”‚
â”‚  â”‚ [Pie Chart]  â”‚  â”‚ [Bar Chart] â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼                 â”‚  â”‚
â”‚  â”‚  [GitHub-style Heatmap]                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æˆé•·ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ3ãƒ¶æœˆï¼‰                   â”‚  â”‚
â”‚  â”‚  [Area Chart with Trend]                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.3.3 çµ±è¨ˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ä»•æ§˜

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | è¨ˆç®—æ–¹æ³• | è¡¨ç¤ºé »åº¦ | å®Ÿè£… |
|----------|--------|--------|------|
| **ç·æŒ¯ã‚Šè¿”ã—æ•°** | COUNT(reflections) | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | Basic |
| **ä»Šæœˆã®æŒ¯ã‚Šè¿”ã—** | COUNT(reflections WHERE month=now) | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | Basic |
| **é€£ç¶šæ—¥æ•°** | MAX(consecutive_days) | æ—¥æ¬¡æ›´æ–° | Moderate |
| **å¹³å‡æ–‡å­—æ•°** | AVG(content_length) | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | Basic |
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ†å¸ƒ** | COUNT GROUP BY framework | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | Basic |
| **æ°—åˆ†ãƒˆãƒ¬ãƒ³ãƒ‰** | Sentiment Analysis (AI) | é€±æ¬¡ | Advanced |
| **æˆé•·ã‚¹ã‚³ã‚¢** | Composite metric (è¤‡åˆæŒ‡æ¨™) | é€±æ¬¡ | Advanced |

#### 3.3.4 ã‚°ãƒ©ãƒ•ãƒ»ãƒãƒ£ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª

**ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®š**: Recharts (Reactå¯¾å¿œã€æŸ”è»Ÿã€è»½é‡)

```typescript
// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install recharts

// ä½¿ç”¨ä¾‹
import {
  LineChart, Line,
  BarChart, Bar,
  PieChart, Pie,
  AreaChart, Area,
  XAxis, YAxis,
  CartesianGrid, Tooltip, Legend,
  ResponsiveContainer
} from 'recharts';
```

**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**:
```
src/components/analytics/
â”œâ”€â”€ StatsOverview.tsx         # KPIè¡¨ç¤º
â”œâ”€â”€ ReflectionFreency.tsx     # é »åº¦ãƒãƒ£ãƒ¼ãƒˆ
â”œâ”€â”€ FrameworkDistribution.tsx # ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ†å¸ƒ
â”œâ”€â”€ EmotionalTrend.tsx        # æ„Ÿæƒ…ãƒˆãƒ¬ãƒ³ãƒ‰
â”œâ”€â”€ ActivityHeatmap.tsx       # ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
â””â”€â”€ GrowthTrendChart.tsx      # æˆé•·ãƒˆãƒ¬ãƒ³ãƒ‰
```

#### 3.3.5 ãƒ‡ãƒ¼ã‚¿é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯

```typescript
interface AnalyticsData {
  summary: {
    totalReflections: number;
    thisMonthCount: number;
    consecutiveDays: number;
    averageLength: number;
  };

  distribution: {
    byFramework: Record<string, number>;
    byDayOfWeek: Record<string, number>;
  };

  trends: {
    daily: Array<{ date: string; count: number }>;
    weekly: Array<{ week: string; count: number }>;
    monthly: Array<{ month: string; count: number }>;
  };

  insights: {
    mostActiveDay: string;
    preferredFramework: string;
    averageWordCount: number;
    growthRate: number; // %
  };
}
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/services/analyticsService.ts`

#### 3.3.6 ãƒšãƒ¼ã‚¸æ§‹æˆ

```
/dashboard/analytics
  â”‚
  â”œâ”€â”€ Header (æ—¥ä»˜ç¯„å›²ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼)
  â”‚
  â”œâ”€â”€ KPI Cards (Summary Stats)
  â”‚
  â”œâ”€â”€ Charts Section
  â”‚   â”œâ”€â”€ Reflection Frequency
  â”‚   â”œâ”€â”€ Framework Distribution
  â”‚   â”œâ”€â”€ Emotional Trends
  â”‚   â””â”€â”€ Activity Heatmap
  â”‚
  â”œâ”€â”€ Growth Analysis Section
  â”‚   â””â”€â”€ Growth Trend Chart
  â”‚
  â””â”€â”€ Achievements/Badges Section
      â””â”€â”€ Gamification Elements
```

---

## 4. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ãƒ»æ§‹æˆ

### 4.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|--------|------|----------|------|
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | Next.js App Router | 15.5.2 | Server-side rendering, API Routes |
| **UI Library** | React | 19.1.0 | Component-based UI |
| **è¨€èª** | TypeScript | ^5 | Type safety |
| **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°** | Tailwind CSS | ^4 | Utility-first CSS |
| **UI Components** | shadcn/ui | 0.9.5 | Pre-built accessible components |
| **Icon Library** | Lucide React | ^0.542.0 | SVG Icons |
| **Chart Library** | Recharts | ^2.12.0 | Composable charting |
| **çŠ¶æ…‹ç®¡ç†** | Zustand | ^5.0.8 | Global state |
| **Server State** | React Query | ^5.85.5 | Data fetching & caching |
| **Validation** | DOMPurify | ^3.3.0 | XSS prevention |
| **Date Utils** | date-fns | ^4.1.0 | Date manipulation |

### 4.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ / API

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ç”¨é€” |
|--------|------|------|
| **Server Framework** | Next.js API Routes | RESTful API endpoints |
| **Auth** | Supabase Auth | OAuth, Session management |
| **Database** | Supabase PostgreSQL | Data persistence |
| **ORM** | Supabase SDK | Database queries |
| **AI/ML** | OpenAI API | Text analysis, insights |
| **Storage** | Supabase Storage | File/Image uploads |
| **Monitoring** | Vercel Analytics | Performance monitoring |

### 4.3 ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” |
|-------------|---------|------|
| **Hosting** | Vercel | Deployment & hosting |
| **Database** | Supabase PostgreSQL | Data storage |
| **Auth** | Supabase Auth | User authentication |
| **Real-time** | Supabase Realtime (Optional) | WebSocket connectivity |
| **CDN** | Vercel Edge Network | Static asset delivery |
| **Monitoring** | Vercel Analytics + Sentry (Future) | Error tracking & APM |
| **Email** | Supabase Mail (Optional) | Transactional emails |

### 4.4 é–‹ç™ºãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|--------|----------|------|
| **Package Manager** | npm | Dependency management |
| **Type Checker** | TypeScript | Type safety |
| **Linter** | ESLint | Code quality |
| **Formatter** | Prettier | Code formatting |
| **Test Runner** | Vitest | Unit/Integration tests |
| **E2E Testing** | Playwright (Future) | End-to-end testing |
| **Git Hooks** | Husky | Pre-commit automation |

---

## 5. APIè¨­è¨ˆ

### 5.1 æ–°è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

#### AIåˆ†æé–¢é€£

```
POST /api/ai/analyze
  èªè¨¼: Required
  ãƒ¬ãƒ¼ãƒˆåˆ¶é™: 1æ—¥3å›
  å…¥åŠ›: { reflection_id, framework, content }
  å‡ºåŠ›: { analysis_id, insights, recommendations, tokens_used }
  ã‚¨ãƒ©ãƒ¼: 401, 429, 500

GET /api/ai/analyses/:id
  èªè¨¼: Required
  å‡ºåŠ›: { analysis }
  ã‚¨ãƒ©ãƒ¼: 401, 404, 500

GET /api/ai/analyses?reflection_id=:id
  èªè¨¼: Required
  å‡ºåŠ›: { analyses: [] }
  ã‚¨ãƒ©ãƒ¼: 401, 500

DELETE /api/ai/analyses/:id
  èªè¨¼: Required (æ‰€æœ‰è€…ã®ã¿)
  å‡ºåŠ›: { success: boolean }
  ã‚¨ãƒ©ãƒ¼: 401, 403, 404, 500
```

#### çµ±è¨ˆåˆ†æé–¢é€£

```
GET /api/analytics/summary
  èªè¨¼: Required
  ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: date_from?, date_to?
  å‡ºåŠ›: { summary: AnalyticsData }
  ã‚¨ãƒ©ãƒ¼: 401, 500

GET /api/analytics/trends
  èªè¨¼: Required
  ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: period="daily"|"weekly"|"monthly", days=30
  å‡ºåŠ›: { trends: TrendData[] }
  ã‚¨ãƒ©ãƒ¼: 401, 500

GET /api/analytics/distribution
  èªè¨¼: Required
  ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: group_by="framework"|"day_of_week"
  å‡ºåŠ›: { distribution: Record<string, number> }
  ã‚¨ãƒ©ãƒ¼: 401, 500
```

### 5.2 æ—¢å­˜ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ‹¡å¼µ

```
GET /api/reflections/:id
  è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
    + analysis?: AnalysisResult
    + sentiment?: "positive"|"neutral"|"negative"
    + keywords?: string[]

GET /api/reflections?user_id=:id
  è¿½åŠ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼:
    + date_from: string (YYYY-MM-DD)
    + date_to: string (YYYY-MM-DD)
    + framework: "YWT"|"KPT"
    + sentiment: "positive"|"neutral"|"negative"
```

### 5.3 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

```typescript
interface ApiError {
  code: string;           // e.g., "RATE_LIMIT_EXCEEDED"
  message: string;        // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ—¥æœ¬èªï¼‰
  status: number;         // HTTP Status Code
  details?: {
    reason?: string;
    retry_after?: number;
    suggestion?: string;
  };
  trace_id?: string;      // ã‚¨ãƒ©ãƒ¼è¿½è·¡ID
}

// ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¾‹:
// - INVALID_REQUEST: 400
// - UNAUTHORIZED: 401
// - FORBIDDEN: 403
// - NOT_FOUND: 404
// - RATE_LIMIT_EXCEEDED: 429
// - INTERNAL_SERVER_ERROR: 500
// - SERVICE_UNAVAILABLE: 503
```

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ‹¡å¼µ

### 6.1 æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: analyses

```typescript
interface Analysis {
  id: string;                      // UUID
  user_id: string;                 // FK: profiles.id
  reflection_id: string;           // FK: reflections.id

  // åˆ†æçµæœ
  growth_points: string[];
  improvement_suggestions: string[];
  emotional_trend: "positive" | "neutral" | "negative";
  key_achievements: string[];
  challenges: string[];

  recommendations: {
    actions: string[];
    focus_areas: string[];
  };

  metadata: {
    tokens_used: number;
    model: string;                 // e.g., "gpt-4-turbo"
    version: string;
  };

  created_at: string;
  updated_at: string;
}
```

### 6.2 æ‹¡å¼µãƒ†ãƒ¼ãƒ–ãƒ«: reflections

```typescript
interface Retrospective {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id: string;
  user_id: string;
  framework_id: string;
  content: Record<string, string>;
  reflection_date: string;

  // æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  sentiment?: "positive" | "neutral" | "negative";
  keywords?: string[];              // AIæŠ½å‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
  analysis_status?: "pending" | "completed" | "failed";
  mood_score?: number;              // 1-5
  growth_score?: number;            // AIè¨ˆç®—

  created_at: string;
  updated_at: string;
}
```

### 6.3 æ‹¡å¼µãƒ†ãƒ¼ãƒ–ãƒ«: frameworks

```typescript
interface Framework {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id: string;
  name: string;
  display_name: string;
  schema: FieldSchema[];

  // æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  recommended_ai_analysis: boolean;  // AIåˆ†ææ¨å¥¨ãƒ•ãƒ©ã‚°
  analysis_prompt_template?: string; // ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

  created_at: string;
  updated_at: string;
}
```

### 6.4 æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: user_preferences (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

```typescript
interface UserPreferences {
  user_id: string;                   // FK: profiles.id, Primary Key

  // PWAè¨­å®š
  pwa_install_dismissed: boolean;
  notifications_enabled: boolean;

  // åˆ†æè¨­å®š
  auto_analyze_enabled: boolean;
  analysis_frequency: "manual" | "daily" | "weekly";

  // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¨­å®š
  dashboard_view: "cards" | "charts" | "hybrid";
  preferred_metrics: string[];

  created_at: string;
  updated_at: string;
}
```

### 6.5 RLS ãƒãƒªã‚·ãƒ¼æ›´æ–°

```sql
-- analyses ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE POLICY "Users can view their own analyses"
  ON analyses
  FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can create their own analyses"
  ON analyses
  FOR INSERT
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can delete their own analyses"
  ON analyses
  FOR DELETE
  USING (auth.uid() = user_id);

-- reflections ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ—¢å­˜æ‹¡å¼µï¼‰
-- sentiment, keywords ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ä¸Šè¨˜ã¨åŒæ§˜
```

---

## 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 7.1 èªè¨¼ãƒ»èªå¯

| å¯¾ç­– | å®Ÿè£…æ–¹æ³• | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-----|--------|----------|
| **OAuthèªè¨¼** | Google + Supabase Auth | âœ… æ—¢å­˜ |
| **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†** | JWT ãƒˆãƒ¼ã‚¯ãƒ³ + HttpOnly Cookie | âœ… æ—¢å­˜ |
| **CSRFä¿è­·** | SameSite Cookie + ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ | ğŸ”„ æ‹¡å¼µ |
| **APIèªè¨¼** | Bearer Token in Authorization Header | âœ… æ—¢å­˜ |
| **æ¨©é™æ¤œè¨¼** | RLS ãƒãƒªã‚·ãƒ¼ + API ãƒ¬ã‚¤ãƒ¤ãƒ¼æ¤œè¨¼ | âœ… æ—¢å­˜ |
| **ãƒ¬ãƒ¼ãƒˆåˆ¶é™** | API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¯ | ğŸ†• æ–°è¦ |

### 7.2 CSRFå¯¾ç­–å®Ÿè£…

```typescript
// POST /api/reflections
// Request Header: X-CSRF-Token

// ã‚µãƒ¼ãƒãƒ¼å´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
const validateCSRFToken = (req: NextRequest) => {
  const token = req.headers.get('x-csrf-token');
  const sessionToken = req.cookies.get('__Secure-session');

  // ãƒˆãƒ¼ã‚¯ãƒ³ãƒãƒƒãƒãƒ³ã‚° + ç½²åæ¤œè¨¼
  return verifyCSRFToken(token, sessionToken);
};

// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…
// useCSRFToken hook ã§è‡ªå‹•ä»˜ä¸
```

**ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/utils/csrfToken.ts`
- `src/middleware.ts`ï¼ˆCSRFæ¤œè¨¼è¿½åŠ ï¼‰
- `src/hooks/useCSRFToken.ts`

### 7.3 å…¥åŠ›æ¤œè¨¼ãƒ»ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

| æ¤œè¨¼é …ç›® | å®Ÿè£…æ–¹æ³• | å„ªå…ˆåº¦ |
|--------|--------|--------|
| **HTML ã‚µãƒ‹ã‚¿ã‚¤ã‚º** | DOMPurify | P0 âœ… |
| **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–** | Parameterized queries (Supabase SDK) | P0 âœ… |
| **XSSå¯¾ç­–** | Reactè‡ªå‹•ã‚¨ã‚¹ã‚±ãƒ¼ãƒ— + DOMPurify | P0 âœ… |
| **é•·ã•åˆ¶é™** | Frontend + Backend ä¸¡å±¤ãƒã‚§ãƒƒã‚¯ | P0 âœ… |
| **å‹ãƒã‚§ãƒƒã‚¯** | TypeScript strict mode | P0 âœ… |
| **URLãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³** | è¨±å¯ãƒªã‚¹ãƒˆæ–¹å¼ | P1 ğŸ”„ |
| **JSONã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼** | zod/yup ã«ã‚ˆã‚‹æ¤œè¨¼ | P1 ğŸ”„ |

### 7.4 OpenAI API ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

```typescript
// API ã‚­ãƒ¼ç®¡ç†
// - ç’°å¢ƒå¤‰æ•°: OPENAI_API_KEY (.env.local)
// - Server-side only (API Routes ã‹ã‚‰å‘¼ã³å‡ºã—)
// - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯çµ¶å¯¾ã«å…¬é–‹ã—ãªã„

// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
const sanitizePrompt = (input: string): string => {
  // 1. é•·ã•åˆ¶é™
  if (input.length > 3000) throw new Error('å…¥åŠ›ãŒé•·ã™ãã¾ã™');

  // 2. å±é™ºãªè¨˜å·å‰Šé™¤
  const dangerous = /[<script>|<iframe>|javascript:|onerror=]/g;
  const sanitized = input.replace(dangerous, '');

  // 3. ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåŸ‹ã‚è¾¼ã¿é˜²æ­¢
  const systemPromptPatterns = /ignore|override|system|admin|root/gi;
  if (systemPromptPatterns.test(input)) {
    throw new Error('ç„¡åŠ¹ãªå…¥åŠ›ã§ã™');
  }

  return sanitized;
};

// ãƒ¬ãƒ¼ãƒˆåˆ¶é™
// - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ãŸã‚Š: 1æ—¥3å›
// - Redis/Supabase ã§è¿½è·¡
```

**ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/lib/openai/client.ts`
- `src/api/ai/analyze/route.ts`ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™å®Ÿè£…ï¼‰

### 7.5 HTTPSãƒ»Transport Security

```typescript
// next.config.js
const securityHeaders = [
  {
    key: 'Strict-Transport-Security',
    value: 'max-age=31536000; includeSubDomains'
  },
  {
    key: 'X-Content-Type-Options',
    value: 'nosniff'
  },
  {
    key: 'X-Frame-Options',
    value: 'SAMEORIGIN'
  },
  {
    key: 'X-XSS-Protection',
    value: '1; mode=block'
  },
  {
    key: 'Referrer-Policy',
    value: 'strict-origin-when-cross-origin'
  },
  {
    key: 'Content-Security-Policy',
    value: "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';"
  }
];
```

---

## 8. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 8.1 ãƒ†ã‚¹ãƒˆæ¦‚è¦

| ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— | å¯¾è±¡ | ãƒ„ãƒ¼ãƒ« | ç›®æ¨™ã‚«ãƒãƒ¬ãƒƒã‚¸ |
|-----------|-----|--------|------------|
| **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ** | Utils, Services, Hooks | Vitest | 85%+ |
| **çµ±åˆãƒ†ã‚¹ãƒˆ** | API Routes, Supabase Integration | Vitest + Supertest | 70%+ |
| **E2Eãƒ†ã‚¹ãƒˆ** | User flows, Critical paths | Playwright (Future) | 50%+ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ** | Core Web Vitals, Load testing | Lighthouse, k6 | P90 < 2s |

### 8.2 ãƒ†ã‚¹ãƒˆè¨ˆç”»

#### Phase 3.1: AIåˆ†ææ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

```typescript
// test/services/aiAnalysisService.test.ts
describe('AI Analysis Service', () => {
  // Mock OpenAI API
  const mockOpenAI = {
    createChatCompletion: vi.fn()
  };

  test('should analyze reflection correctly', async () => {
    const result = await analyzeReflection({
      framework: 'YWT',
      content: { ... }
    });

    expect(result).toHaveProperty('growth_points');
    expect(result.growth_points).toBeInstanceOf(Array);
  });

  test('should handle OpenAI API errors', async () => {
    mockOpenAI.createChatCompletion.mockRejectedValue(
      new Error('Rate limit exceeded')
    );

    expect(() => analyzeReflection(...))
      .rejects.toThrow('Rate limit exceeded');
  });

  test('should apply rate limiting', async () => {
    // 1æ—¥3å›ã®ãƒªãƒŸãƒƒãƒˆæ¤œè¨¼
  });
});
```

#### Phase 3.2: çµ±è¨ˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

```typescript
// test/services/analyticsService.test.ts
describe('Analytics Service', () => {
  test('should calculate summary correctly', () => {
    const reflections = [
      { ... }, { ... }, { ... }
    ];

    const summary = calculateSummary(reflections);

    expect(summary.totalReflections).toBe(3);
    expect(summary.consecutiveDays).toBeGreaterThanOrEqual(0);
  });

  test('should generate trend data', () => {
    const trends = generateTrends(reflections, 'daily');

    expect(trends).toBeInstanceOf(Array);
    expect(trends[0]).toHaveProperty('date');
    expect(trends[0]).toHaveProperty('count');
  });
});
```

#### Phase 3.3: PWA ãƒ†ã‚¹ãƒˆ

```typescript
// test/pwa/serviceWorker.test.ts
describe('Service Worker', () => {
  test('should cache static assets', async () => {
    const response = await fetch('/dashboard');
    // Cache hit verification
  });

  test('should handle offline requests', async () => {
    // Simulate offline mode
    // Verify fallback behavior
  });
});
```

### 8.3 E2E ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªï¼ˆFuture - Playwrightï¼‰

```typescript
test('User can create reflection, get AI analysis, view analytics', async () => {
  // 1. ãƒ­ã‚°ã‚¤ãƒ³
  await page.goto('/auth');
  await page.click('button:has-text("Google ã§ãƒ­ã‚°ã‚¤ãƒ³")');

  // 2. æŒ¯ã‚Šè¿”ã‚Šä½œæˆ
  await page.goto('/reflection');
  await page.fill('textarea[name="did"]', 'ãƒ†ã‚¹ãƒˆå®Ÿæ–½');
  await page.click('button:has-text("ä¿å­˜")');

  // 3. AIåˆ†æãƒªã‚¯ã‚¨ã‚¹ãƒˆ
  await page.click('button:has-text("AIåˆ†æã‚’å®Ÿè¡Œ")');
  await page.waitForSelector('[data-testid="analysis-result"]');

  // 4. ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ç¢ºèª
  await page.goto('/dashboard/analytics');
  await page.waitForSelector('canvas'); // ãƒãƒ£ãƒ¼ãƒˆèª­ã¿è¾¼ã¿ç¢ºèª
});
```

### 8.4 ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ•ãƒ­ãƒ¼

```bash
# é–‹ç™ºæ™‚: ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch

# Pre-commit: ãƒªãƒ³ãƒˆ + ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test:pre-commit

# CI/CD: å…¨ãƒ†ã‚¹ãƒˆ + ã‚«ãƒãƒ¬ãƒƒã‚¸
npm run test:coverage

# ãƒ‡ãƒ—ãƒ­ã‚¤å‰: E2E ãƒ†ã‚¹ãƒˆ
npm run test:e2e
```

---

## 9. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»æœ€é©åŒ–

### 9.1 Core Web Vitals ç›®æ¨™

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | ç›®æ¨™å€¤ | ç¾åœ¨å€¤ (æ¨å®š) |
|-----------|--------|----------|
| **LCP** (Largest Contentful Paint) | < 2.5s | ? |
| **FID** (First Input Delay) | < 100ms | ? |
| **CLS** (Cumulative Layout Shift) | < 0.1 | ? |
| **INP** (Interaction to Next Paint) | < 200ms | ? |

### 9.2 æœ€é©åŒ–æ–½ç­–

#### ç”»åƒæœ€é©åŒ–

```typescript
// next.config.js
const nextConfig = {
  images: {
    formats: ['image/avif', 'image/webp'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
    loader: 'default',
    minimumCacheTTL: 60,
  }
};
```

#### Code Splitting

```typescript
// å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: é‡ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const AnalyticsPanel = dynamic(() =>
  import('@/components/analytics/AnalyticsPanel'),
  { loading: () => <LoadingSpinner /> }
);

// Route-based: ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
// Next.js ãŒè‡ªå‹•ã§æœ€é©åŒ–
```

#### ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥

```typescript
// ISR (Incremental Static Regeneration)
export const revalidate = 3600; // 1æ™‚é–“ã”ã¨ã«å†ç”Ÿæˆ

// SWR (Stale-While-Revalidate)
const { data } = useSWR('/api/analytics/summary', {
  revalidateOnFocus: false,
  revalidateOnReconnect: false,
  dedupingInterval: 300000, // 5åˆ†
});
```

#### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–

```bash
# ãƒãƒ³ãƒ‰ãƒ«åˆ†æ
npm run analyze

# ç›®æ¨™: Main bundle < 200KB (gzipped)
# Recharts ã¯å¿…è¦ã«å¿œã˜ã¦ lazy load
```

### 9.3 ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹

```typescript
// Skeleton Loading
<Skeleton className="w-full h-40" count={3} />

// Streaming (Next.js 13+)
// Server Components ã§è‡ªå‹•æœ€é©åŒ–
```

### 9.4 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªæœ€é©åŒ–

```typescript
// ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ
CREATE INDEX idx_reflections_user_date
  ON reflections(user_id, reflection_date DESC);

CREATE INDEX idx_analyses_reflection
  ON analyses(reflection_id);

// ä¸è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®é™¤å¤–
const { id, user_id, content, created_at } =
  await supabase
    .from('reflections')
    .select('id, user_id, content, created_at')
    .eq('user_id', userId);
```

---

## 10. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ»ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ

### 10.1 æœ¬ç•ªç’°å¢ƒè¦ä»¶

| è¦ä»¶ | è©³ç´° |
|-----|------|
| **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°** | Vercel Pro |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | Supabase Pro |
| **SSLè¨¼æ˜æ›¸** | è‡ªå‹•ï¼ˆLet's Encrypt via Vercelï¼‰ |
| **CDN** | Vercel Edge Network |
| **ç›£è¦–** | Vercel Analytics + Sentry (Future) |
| **ãƒ‰ãƒ¡ã‚¤ãƒ³** | reflect-hub.app (ã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ ) |

### 10.2 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †

```bash
# 1. ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ
git push origin stage-deploy

# 2. Preview deployment ç¢ºèª
# Vercel ãŒè‡ªå‹•ã§ä½œæˆ

# 3. æœ¬ç•ªç’°å¢ƒã¸
git push origin main

# 4. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œæ¤œè¨¼
curl https://reflect-hub.app/api/health
```

### 10.3 æœ¬ç•ªç’°å¢ƒãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] All tests passing (100% coverage for critical paths)
- [ ] Lighthouse score >= 90
- [ ] No console errors/warnings
- [ ] HTTPS working correctly
- [ ] Security headers present
- [ ] Environment variables set
- [ ] Database backups configured
- [ ] Error monitoring enabled
- [ ] CDN cache configured
- [ ] Rate limiting active
- [ ] API throttling working

### 10.4 ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆæˆ¦ç•¥

#### Phase 3a: Canary Release (Day 20-21)

```
10% ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ–°æ©Ÿèƒ½ã‚’ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
â†’ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦– (1æ™‚é–“)
â†’ å®‰å®šç¢ºèªå¾Œ 50% ã«æ‹¡å¤§
â†’ æœ€çµ‚çš„ã« 100% ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
```

#### Phase 3b: Feature Flags

```typescript
// æ©Ÿèƒ½ãƒ•ãƒ©ã‚°: AIåˆ†æ
if (featureFlags.aiAnalysisEnabled) {
  <AnalysisButton />
}

// Supabase ã‹ã‚‰å‹•çš„ã«å–å¾—
const flags = await getFeatureFlags(userId);
```

### 10.5 ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ å¯¾ç­–

```typescript
// ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
GET /api/health
  â†’ { status: "ok"|"degraded"|"down" }

// ã‚µãƒ¼ã‚­ãƒƒãƒˆãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
if (healthStatus === 'degraded') {
  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ç°¡æ˜“ç‰ˆUIè¡¨ç¤º
  <SimplifiedDashboard />
}
```

---

## 11. å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### 11.1 Phase 3 ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆ21æ—¥é–“ï¼‰

```
Week 1 (Day 1-7)
â”œâ”€ Day 1-2: PWAåŸºç›¤æ§‹ç¯‰
â”‚  â”œâ”€ Web App Manifest
â”‚  â”œâ”€ Service Worker
â”‚  â””â”€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« UI
â”œâ”€ Day 3-4: AIåˆ†ææ©Ÿèƒ½ - Phase 1
â”‚  â”œâ”€ OpenAI API çµ±åˆ
â”‚  â”œâ”€ åˆ†æã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚  â””â”€ åˆ†æçµæœ UI
â””â”€ Day 5-7: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - Phase 1
   â”œâ”€ KPIè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
   â”œâ”€ Recharts çµ±åˆ
   â””â”€ åŸºæœ¬ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º

Week 2 (Day 8-14)
â”œâ”€ Day 8-9: AIåˆ†ææ©Ÿèƒ½ - Phase 2
â”‚  â”œâ”€ ãƒ¬ãƒ¼ãƒˆåˆ¶é™å®Ÿè£…
â”‚  â”œâ”€ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚  â””â”€ ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
â”œâ”€ Day 10-11: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - Phase 2
â”‚  â”œâ”€ é«˜åº¦ãªåˆ†æãƒãƒ£ãƒ¼ãƒˆ
â”‚  â”œâ”€ ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
â”‚  â””â”€ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
â”œâ”€ Day 12: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½
â”‚  â”œâ”€ IndexedDB è¨­è¨ˆ
â”‚  â”œâ”€ è‡ªå‹•åŒæœŸãƒ­ã‚¸ãƒƒã‚¯
â”‚  â””â”€ åŒæœŸçŠ¶æ…‹ UI
â””â”€ Day 13-14: ãƒ†ã‚¹ãƒˆ Phase 1
   â”œâ”€ AIåˆ†æãƒ†ã‚¹ãƒˆ
   â”œâ”€ çµ±è¨ˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
   â””â”€ PWA ãƒ†ã‚¹ãƒˆ

Week 3 (Day 15-21)
â”œâ”€ Day 15-16: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
â”‚  â”œâ”€ CSRFå¯¾ç­–
â”‚  â”œâ”€ å…¥åŠ›æ¤œè¨¼å¼·åŒ–
â”‚  â”œâ”€ OpenAI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
â”‚  â””â”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
â”œâ”€ Day 17-18: ãƒ†ã‚¹ãƒˆ Phase 2
â”‚  â”œâ”€ E2E ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆåŸºæœ¬ï¼‰
â”‚  â”œâ”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â”‚  â”œâ”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
â”‚  â””â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ
â”œâ”€ Day 19-20: æœ¬ç•ªæº–å‚™ãƒ»æœ€é©åŒ–
â”‚  â”œâ”€ Core Web Vitals æœ€é©åŒ–
â”‚  â”œâ”€ ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå‰Šæ¸›
â”‚  â”œâ”€ ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ»SSLè¨­å®š
â”‚  â”œâ”€ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒ­ã‚®ãƒ³ã‚°
â”‚  â””â”€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè‡ªå‹•åŒ–
â””â”€ Day 21: ãƒªãƒªãƒ¼ã‚¹ãƒ»é‹ç”¨é–‹å§‹
   â”œâ”€ æœ¬ç•ªç’°å¢ƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
   â”œâ”€ ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ
   â”œâ”€ Canary Release (10% â†’ 50% â†’ 100%)
   â””â”€ é‹ç”¨ãƒãƒ³ãƒ‰ã‚ªãƒ¼ãƒãƒ¼
```

### 11.2 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | æœŸæ—¥ | æˆæœç‰© |
|-------------|------|--------|
| **PWAåŸºç›¤å®Œæˆ** | Day 4 | ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªçŠ¶æ…‹ |
| **AIåˆ†ææ©Ÿèƒ½Î±** | Day 7 | åˆ†æçµæœè¡¨ç¤º |
| **çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ Î±** | Day 7 | KPI + åŸºæœ¬ãƒãƒ£ãƒ¼ãƒˆ |
| **å…¨æ©Ÿèƒ½ Î± å®Œæˆ** | Day 14 | æ©Ÿèƒ½å®Ÿè£…å®Œäº† |
| **ãƒ†ã‚¹ãƒˆå®Œäº†** | Day 18 | ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ 80%+ |
| **æœ¬ç•ªç’°å¢ƒ Ready** | Day 20 | Go/No-Go Decision |
| **æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹** | Day 21 | Live |

### 11.3 æ—¥æ¬¡ã‚¹ãƒ—ãƒªãƒ³ãƒˆä¾‹ï¼ˆDay 1ï¼‰

```
09:00-09:30  ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ï¼ˆé€²æ—ç¢ºèªï¼‰
09:30-12:00  å®Ÿè£…
12:00-13:00  æ˜¼ä¼‘æ†©
13:00-15:00  å®Ÿè£… + ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
15:00-15:30  ãƒ†ã‚¹ãƒˆå®Ÿæ–½
15:30-17:00  ãƒã‚°ä¿®æ­£ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
17:00-17:30  ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ—¥å ±
```

---

## 12. ãƒªã‚¹ã‚¯ç®¡ç†

### 12.1 ä¸»è¦ãƒªã‚¹ã‚¯ä¸€è¦§

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | ç¢ºåº¦ | å¯¾ç­– |
|--------|--------|------|------|
| **OpenAI API ãƒ¬ãƒ¼ãƒˆåˆ¶é™** | High | High | ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã€ãƒãƒƒãƒå‡¦ç†ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| **Supabase ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ** | High | Low | Retry logicã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **Service Worker ãƒã‚°** | Medium | Medium | å¾¹åº•ãƒ†ã‚¹ãƒˆã€æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ |
| **Core Web Vitals æœªé”** | Medium | Medium | ç¶™ç¶šçš„ãªæœ€é©åŒ–ã€ç›£è¦– |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§** | High | Medium | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã€SAST ãƒ„ãƒ¼ãƒ« |
| **ã‚¹ã‚³ãƒ¼ãƒ—ã‚¯ãƒªãƒ¼ãƒ—** | Medium | High | å³å¯†ãªã‚¹ã‚³ãƒ¼ãƒ—ç®¡ç†ã€å„ªå…ˆåº¦ä»˜ã‘ |

### 12.2 ãƒªã‚¹ã‚¯å¯¾ç­–è©³ç´°

#### OpenAI API ã‚³ã‚¹ãƒˆç®¡ç†

```typescript
// ãƒ¬ãƒ¼ãƒˆåˆ¶é™: 1ãƒ¦ãƒ¼ã‚¶ãƒ¼ / 1æ—¥3å›
const MAX_ANALYSES_PER_DAY = 3;

// ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡è¿½è·¡
const trackTokenUsage = (tokens: number) => {
  // Supabase ã«è¨˜éŒ²
  // æœˆé–“ä¸Šé™: 100,000 tokens
};

// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¸ˆã¿åˆ†æã‚’è¡¨ç¤º
if (analyzisExists()) {
  return cachedAnalysis;
} else {
  return <AnalysisUnavailable />;
}
```

#### Service Worker ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥

```typescript
// æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
// Phase 1: Canary (10%)
// Phase 2: Beta (50%)
// Phase 3: Stable (100%)

// ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
const SW_VERSION = '1.0.0';
if (swVersion < MIN_REQUIRED_VERSION) {
  // å¤ã„ Service Worker ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  unregisterServiceWorker();
}
```

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

```
- OWASP Top 10 ãƒã‚§ãƒƒã‚¯
- Dependency scanning (npm audit)
- SAST ãƒ„ãƒ¼ãƒ« (SonarQube, CodeClimate)
- Penetration Testing (å¤–éƒ¨)
- GDPR / å€‹äººæƒ…å ±ä¿è­·å¯¾å¿œç¢ºèª
```

### 12.3 æœ¬ç•ªã‚µãƒãƒ¼ãƒˆè¨ˆç”»

| é …ç›® | è©³ç´° |
|-----|------|
| **ç›£è¦–** | Vercel Analytics + Sentry |
| **ã‚¢ãƒ©ãƒ¼ãƒˆ** | Slack é€šçŸ¥ï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼ï¼‰ |
| **ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³** | on-call rotation |
| **é€šçŸ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** | æ—¥æœ¬èªå¯¾å¿œ |
| **ç½å®³å¾©æ—§è¨ˆç”»** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— (æ—¥1å›) |
| **SLA** | 99.5% uptime |

---

## 13. ä»˜éŒ²ãƒ»å‚è€ƒè³‡æ–™

### 13.1 å‚è€ƒãƒªãƒ³ã‚¯

- [Web App Manifest - MDN](https://developer.mozilla.org/docs/Web/Manifest)
- [Service Worker - MDN](https://developer.mozilla.org/docs/Web/API/Service_Worker_API)
- [OpenAI API Documentation](https://platform.openai.com/docs)
- [Recharts Documentation](https://recharts.org/)
- [Next.js 15 Documentation](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.io/docs)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)

### 13.2 ç”¨èªé›†

| ç”¨èª | èª¬æ˜ |
|-----|------|
| **PWA** | Progressive Web Application - ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªåŒæ§˜ã®æ©Ÿèƒ½ã‚’æŒã¤Webã‚¢ãƒ—ãƒª |
| **Service Worker** | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‹•ä½œã—ã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚° ã‚’ç®¡ç†ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ |
| **ISR** | Incremental Static Regeneration - Next.js ã®é™çš„ç”Ÿæˆæ©Ÿèƒ½ |
| **SWR** | Stale-While-Revalidate - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ |
| **RLS** | Row-Level Security - Supabase ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹ |
| **CSRF** | Cross-Site Request Forgery - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„…å¨ |
| **XSS** | Cross-Site Scripting - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„…å¨ |
| **Core Web Vitals** | Google ãŒå®šç¾©ã™ã‚‹ãƒšãƒ¼ã‚¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ |
| **Canary Release** | æ®µéšçš„ãªãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆæˆ¦ç•¥ |

### 13.3 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å®Ÿè£…æ™‚ã®ç¢ºèªé …ç›®:

```
[ ] PWAæ©Ÿèƒ½ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªçŠ¶æ…‹
[ ] Service Worker ãŒã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§å‹•ä½œ
[ ] AIåˆ†æãŒã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ¸ˆã¿
[ ] çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºå¯èƒ½
[ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ 80%ä»¥ä¸Š
[ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®šæ¸ˆã¿
[ ] Lighthouse ã‚¹ã‚³ã‚¢ 90ä»¥ä¸Š
[ ] Core Web Vitals é”æˆ
[ ] æœ¬ç•ªç’°å¢ƒãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå®Œäº†
[ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œæˆ
[ ] ãƒãƒ¼ãƒ å†…ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰¿èª
```

---

## æ›´æ–°å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | æ›´æ–°å†…å®¹ |
|----------|------|--------|
| 1.0 | 2025-11-18 | åˆç‰ˆä½œæˆ |

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆè€…**: Claude Code Design Team
**æœ€çµ‚ãƒ¬ãƒ“ãƒ¥ãƒ¼æ—¥**: 2025-11-18
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š**: å®Ÿè£…é–‹å§‹æ™‚
