# Task 4.6 & 4.7: ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼å®Ÿè£… + ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼åŸºç›¤

**Type**: Task
**Priority**: Highest
**Phase**: Phase 2 - Day 11
**Estimated**: 8 hours (4.6: 4h + 4.7: 4h)
**Depends On**: Task 4.5 (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡æ©Ÿèƒ½)
**Status**: Not Started

## ğŸ“Œ æ¦‚è¦

LINE ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒœã‚¿ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç°¡å˜ã«ä¸»è¦æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚åŒæ™‚ã«ã€å®šæœŸçš„ãªãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€ä¿¡æ©Ÿèƒ½ã‚’æ§‹ç¯‰ã—ã€Vercel Cronã§è‡ªå‹•å®Ÿè¡Œã•ã›ã‚‹ã€‚

---

## ğŸ¯ Task 4.6: ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼å®Ÿè£…ï¼ˆ4æ™‚é–“ï¼‰

### 6.1 ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­è¨ˆ

#### ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹æˆï¼ˆ2Ã—3ã‚°ãƒªãƒƒãƒ‰ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ä»Šæ—¥ã®æŒ¯ã‚Šè¿”ã‚Š â”‚ ğŸ“… å±¥æ­´ã‚’è¦‹ã‚‹  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ è¨­å®š       â”‚ ğŸ“Š çµ±è¨ˆ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â“ ãƒ˜ãƒ«ãƒ—     â”‚ ğŸ”— Webã‚¢ãƒ—ãƒª  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…¨ä½“ã‚µã‚¤ã‚º: 1040Ã—1040px
å„ã‚»ãƒ«: 520Ã—347px
```

### 6.2 ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒä½œæˆ

#### ä½œæˆæ‰‹é †

1. **ãƒ‡ã‚¶ã‚¤ãƒ³ä½œæˆ**:
   - Figma/Photoshop/Canva ã§ 1040Ã—1040px ã®ç”»åƒã‚’ä½œæˆ
   - 2Ã—3ã‚°ãƒªãƒƒãƒ‰é…ç½®ï¼ˆå„ã‚»ãƒ« 520Ã—347pxï¼‰
   - å„ã‚»ãƒ«ã«ã‚¢ã‚¤ã‚³ãƒ³ï¼‹ãƒ†ã‚­ã‚¹ãƒˆã‚’é…ç½®
   - èƒŒæ™¯è‰²: ç™½ã¾ãŸã¯ãƒªãƒ¼ãƒ™ãƒƒã‚¸ã‚«ãƒ©ãƒ¼
   - ãƒ•ã‚©ãƒ³ãƒˆ: æ—¥æœ¬èªå¯¾å¿œï¼ˆãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã€Noto Sans JP ãªã©ï¼‰

2. **æ¨å¥¨ãƒ‡ã‚¶ã‚¤ãƒ³**:
   - ã‚¹ã‚¿ã‚¤ãƒ«: Notioné¢¨ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãƒ»ãƒŸãƒ‹ãƒãƒ«ï¼‰
   - ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: ãƒ†ã‚­ã‚¹ãƒˆ 24-32px
   - æ ç·š: è–„ã„ã‚°ãƒ¬ãƒ¼ï¼ˆ#EEEEEEï¼‰
   - ãƒ›ãƒãƒ¼åŠ¹æœ: å¿…è¦ãªã—ï¼ˆé™çš„ç”»åƒï¼‰

3. **å‡ºåŠ›è¨­å®š**:
   - å½¢å¼: JPG ã¾ãŸã¯ PNG
   - ã‚µã‚¤ã‚º: 1040Ã—1040px ä»¥ä¸Š
   - åœ§ç¸®: æœ€é©åŒ–ï¼ˆ200KBä»¥ä¸‹æ¨å¥¨ï¼‰

4. **ä¿å­˜å ´æ‰€**:
   ```bash
   # å…¬é–‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
   public/rich-menu.jpg
   ```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
```
[ ] ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒä½œæˆå®Œäº†
[ ] 1040Ã—1040px ã§ä¿å­˜
[ ] public/rich-menu.jpg ã«é…ç½®
[ ] JPG/PNGå½¢å¼ç¢ºèª
[ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º 200KBä»¥ä¸‹
```

---

### 6.3 ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ APIè¨­å®šå®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/lib/line/richMenu.ts`

```typescript
/**
 * LINE ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†
 *
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä½œæˆã€æ›´æ–°ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’ç®¡ç†
 */
import { lineClient } from './client';
import fs from 'fs';
import path from 'path';

export interface RichMenuArea {
  bounds: {
    x: number;
    y: number;
    width: number;
    height: number;
  };
  action: {
    type: 'uri' | 'postback' | 'message';
    [key: string]: any;
  };
}

export interface RichMenuConfig {
  size: {
    width: number;
    height: number;
  };
  selected: boolean;
  name: string;
  chatBarText: string;
  areas: RichMenuArea[];
}

/**
 * ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š
 */
export const defaultRichMenuConfig: RichMenuConfig = {
  size: {
    width: 1040,
    height: 1040,
  },
  selected: true,
  name: 'ReflectHub Main Menu',
  chatBarText: 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã',
  areas: [
    // ä»Šæ—¥ã®æŒ¯ã‚Šè¿”ã‚Šï¼ˆå·¦ä¸Šï¼‰
    {
      bounds: {
        x: 0,
        y: 0,
        width: 520,
        height: 347,
      },
      action: {
        type: 'uri',
        uri: `${process.env.NEXT_PUBLIC_APP_URL}/reflection`,
        label: 'æŒ¯ã‚Šè¿”ã‚Šã‚’é–‹ã',
      },
    },

    // å±¥æ­´ã‚’è¦‹ã‚‹ï¼ˆå³ä¸Šï¼‰
    {
      bounds: {
        x: 520,
        y: 0,
        width: 520,
        height: 347,
      },
      action: {
        type: 'uri',
        uri: `${process.env.NEXT_PUBLIC_APP_URL}/history`,
        label: 'å±¥æ­´ã‚’é–‹ã',
      },
    },

    // è¨­å®šï¼ˆå·¦ä¸­ï¼‰
    {
      bounds: {
        x: 0,
        y: 347,
        width: 520,
        height: 346,
      },
      action: {
        type: 'uri',
        uri: `${process.env.NEXT_PUBLIC_APP_URL}/settings`,
        label: 'è¨­å®šã‚’é–‹ã',
      },
    },

    // çµ±è¨ˆï¼ˆå³ä¸­ï¼‰
    {
      bounds: {
        x: 520,
        y: 347,
        width: 520,
        height: 346,
      },
      action: {
        type: 'uri',
        uri: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard`,
        label: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
      },
    },

    // ãƒ˜ãƒ«ãƒ—ï¼ˆå·¦ä¸‹ï¼‰
    {
      bounds: {
        x: 0,
        y: 693,
        width: 520,
        height: 347,
      },
      action: {
        type: 'postback',
        data: 'help',
        label: 'ãƒ˜ãƒ«ãƒ—',
      },
    },

    // Webã‚¢ãƒ—ãƒªï¼ˆå³ä¸‹ï¼‰
    {
      bounds: {
        x: 520,
        y: 693,
        width: 520,
        height: 347,
      },
      action: {
        type: 'uri',
        uri: process.env.NEXT_PUBLIC_APP_URL || 'https://reflecthub.com',
        label: 'Webã‚¢ãƒ—ãƒªã‚’é–‹ã',
      },
    },
  ],
};

/**
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
 *
 * @returns ä½œæˆã•ã‚ŒãŸãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ID
 */
export async function createRichMenu(
  config: RichMenuConfig = defaultRichMenuConfig
): Promise<string> {
  try {
    console.log('[RichMenu] Creating rich menu...');

    const richMenuId = await lineClient.createRichMenu(config);

    console.log(`[RichMenu] Created: ${richMenuId}`);
    return richMenuId;
  } catch (error) {
    console.error('[RichMenu] Failed to create rich menu:', error);
    throw error;
  }
}

/**
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
 *
 * @param richMenuId - ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ID
 * @param imagePath - ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆçµ¶å¯¾ãƒ‘ã‚¹ï¼‰
 */
export async function uploadRichMenuImage(
  richMenuId: string,
  imagePath: string
): Promise<void> {
  try {
    console.log('[RichMenu] Uploading image...');

    // ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
    if (!fs.existsSync(imagePath)) {
      throw new Error(`Image file not found: ${imagePath}`);
    }

    // ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
    const imageBuffer = fs.readFileSync(imagePath);

    // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    await lineClient.setRichMenuImage(richMenuId, imageBuffer);

    console.log('[RichMenu] Image uploaded successfully');
  } catch (error) {
    console.error('[RichMenu] Failed to upload image:', error);
    throw error;
  }
}

/**
 * ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š
 *
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœãƒƒãƒˆã‚’é–‹ããŸã³ã«ã“ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
 *
 * @param richMenuId - ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ID
 */
export async function setDefaultRichMenu(richMenuId: string): Promise<void> {
  try {
    console.log('[RichMenu] Setting default rich menu...');

    await lineClient.setDefaultRichMenu(richMenuId);

    console.log('[RichMenu] Default rich menu set');
  } catch (error) {
    console.error('[RichMenu] Failed to set default:', error);
    throw error;
  }
}

/**
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤
 *
 * @param richMenuId - ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ID
 */
export async function deleteRichMenu(richMenuId: string): Promise<void> {
  try {
    console.log('[RichMenu] Deleting rich menu...');

    await lineClient.deleteRichMenu(richMenuId);

    console.log('[RichMenu] Rich menu deleted');
  } catch (error) {
    console.error('[RichMenu] Failed to delete rich menu:', error);
    throw error;
  }
}

/**
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼æƒ…å ±å–å¾—
 *
 * @param richMenuId - ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ID
 */
export async function getRichMenuInfo(richMenuId: string): Promise<any> {
  try {
    const info = await lineClient.getRichMenu(richMenuId);
    return info;
  } catch (error) {
    console.error('[RichMenu] Failed to get rich menu info:', error);
    throw error;
  }
}

/**
 * ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼å–å¾—
 */
export async function getDefaultRichMenu(): Promise<string | null> {
  try {
    const menuId = await lineClient.getDefaultRichMenuId();
    return menuId;
  } catch (error) {
    // ã‚¨ãƒ©ãƒ¼ãŒãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼æœªè¨­å®šã®å ´åˆã¯ null ã‚’è¿”ã™
    if (error instanceof Error && error.message.includes('No default rich menu')) {
      return null;
    }
    console.error('[RichMenu] Failed to get default rich menu:', error);
    throw error;
  }
}
```

**å®Ÿè£…ãƒã‚§ãƒƒã‚¯**:
```typescript
[ ] RichMenuConfig ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©å®Œäº†
[ ] createRichMenu å®Ÿè£…å®Œäº†
[ ] uploadRichMenuImage å®Ÿè£…å®Œäº†
[ ] setDefaultRichMenu å®Ÿè£…å®Œäº†
[ ] ä»–ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°å®Ÿè£…å®Œäº†
[ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨
```

---

### 6.4 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆNode.jsï¼‰

#### ãƒ•ã‚¡ã‚¤ãƒ«: `scripts/setupRichMenu.ts`

```typescript
/**
 * ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 *
 * å®Ÿè¡Œæ–¹æ³•:
 * npx ts-node scripts/setupRichMenu.ts
 */

import {
  createRichMenu,
  uploadRichMenuImage,
  setDefaultRichMenu,
  deleteRichMenu,
  getDefaultRichMenu,
} from '../src/lib/line/richMenu';
import path from 'path';

async function main() {
  try {
    console.log('ğŸš€ ReflectHub ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—é–‹å§‹...\n');

    // 1. æ—¢å­˜ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ç¢ºèªãƒ»å‰Šé™¤
    console.log('1ï¸âƒ£  æ—¢å­˜ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç¢ºèª...');
    const existingMenuId = await getDefaultRichMenu();

    if (existingMenuId) {
      console.log(`   æ—¢å­˜ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ${existingMenuId}`);
      console.log('   å‰Šé™¤ã—ã¦ã„ã¾ã™...');
      await deleteRichMenu(existingMenuId);
      console.log('   å‰Šé™¤å®Œäº† âœ“\n');
    } else {
      console.log('   æ—¢å­˜ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãªã— âœ“\n');
    }

    // 2. ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
    console.log('2ï¸âƒ£  ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ...');
    const richMenuId = await createRichMenu();
    console.log(`   ä½œæˆå®Œäº†: ${richMenuId} âœ“\n`);

    // 3. ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    console.log('3ï¸âƒ£  ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰...');
    const imagePath = path.join(process.cwd(), 'public', 'rich-menu.jpg');
    console.log(`   ç”»åƒãƒ‘ã‚¹: ${imagePath}`);
    await uploadRichMenuImage(richMenuId, imagePath);
    console.log('   ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº† âœ“\n');

    // 4. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
    console.log('4ï¸âƒ£  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š...');
    await setDefaultRichMenu(richMenuId);
    console.log('   è¨­å®šå®Œäº† âœ“\n');

    console.log('âœ… ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼\n');
    console.log(`ãƒ¡ãƒ‹ãƒ¥ãƒ¼ID: ${richMenuId}`);
    console.log('LINEã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•ã—ã¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
  } catch (error) {
    console.error('âŒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
    process.exit(1);
  }
}

main();
```

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# TypeScript ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
npx ts-node scripts/setupRichMenu.ts

# ã¾ãŸã¯ package.json ã«è¿½åŠ :
"setup:rich-menu": "ts-node scripts/setupRichMenu.ts"
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
```
[ ] scripts/setupRichMenu.ts ä½œæˆå®Œäº†
[ ] ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒãŒ public/rich-menu.jpg ã«å­˜åœ¨
[ ] setup ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡ŒæˆåŠŸ
[ ] LINE Developers ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç¢ºèª: ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹
```

---

## ğŸ¯ Task 4.7: ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼åŸºç›¤å®Ÿè£…ï¼ˆ4æ™‚é–“ï¼‰

### 7.1 ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šUIå®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/components/settings/ReminderSettings.tsx`

```typescript
'use client';

import { useState, useEffect } from 'react';
import { useAuth } from '@/hooks/useAuth';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';

interface ReminderSettings {
  enabled: boolean;
  time: string; // "HH:MM" format
  days: number[]; // 0=Sun, 6=Sat
  timezone: string;
  messageType: 'text' | 'flex';
}

/**
 * ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 *
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€šçŸ¥ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨é »åº¦ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™
 */
export default function ReminderSettings() {
  const { user } = useAuth();
  const [settings, setSettings] = useState<ReminderSettings>({
    enabled: true,
    time: '18:00',
    days: [5], // Friday
    timezone: 'Asia/Tokyo',
    messageType: 'flex',
  });

  const [isLoading, setIsLoading] = useState(false);
  const [isSaving, setIsSaving] = useState(false);
  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);

  const dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];

  useEffect(() => {
    if (user) {
      loadSettings();
    }
  }, [user]);

  const loadSettings = async () => {
    setIsLoading(true);
    try {
      const response = await fetch('/api/settings/reminder');
      if (response.ok) {
        const data = await response.json();
        setSettings(data);
      }
    } catch (error) {
      console.error('Failed to load settings:', error);
      setMessage({
        type: 'error',
        text: 'è¨­å®šã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ',
      });
    } finally {
      setIsLoading(false);
    }
  };

  const saveSettings = async () => {
    setIsSaving(true);
    try {
      const response = await fetch('/api/settings/reminder', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(settings),
      });

      if (response.ok) {
        setMessage({
          type: 'success',
          text: 'âœ… è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ',
        });
        setTimeout(() => setMessage(null), 3000);
      } else {
        throw new Error('Save failed');
      }
    } catch (error) {
      console.error('Failed to save settings:', error);
      setMessage({
        type: 'error',
        text: 'è¨­å®šã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ',
      });
    } finally {
      setIsSaving(false);
    }
  };

  const toggleDay = (day: number) => {
    setSettings((prev) => {
      const newDays = prev.days.includes(day)
        ? prev.days.filter((d) => d !== day)
        : [...prev.days, day];
      return { ...prev, days: newDays };
    });
  };

  if (isLoading) {
    return <div className="text-center py-8">èª­ã¿è¾¼ã¿ä¸­...</div>;
  }

  return (
    <Card className="p-6">
      <h3 className="text-lg font-semibold mb-6 flex items-center gap-2">
        ğŸ“¨ ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®š
      </h3>

      <div className="space-y-6">
        {/* æœ‰åŠ¹/ç„¡åŠ¹ */}
        <div className="flex items-center gap-3">
          <label className="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              checked={settings.enabled}
              onChange={(e) =>
                setSettings({ ...settings, enabled: e.target.checked })
              }
              className="w-4 h-4"
            />
            <span>ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
          </label>
        </div>

        {settings.enabled && (
          <>
            {/* é€šçŸ¥æ™‚é–“ */}
            <div>
              <label className="block text-sm font-medium mb-2">
                é€šçŸ¥æ™‚é–“
              </label>
              <input
                type="time"
                value={settings.time}
                onChange={(e) =>
                  setSettings({ ...settings, time: e.target.value })
                }
                className="w-32 px-3 py-2 border border-gray-300 rounded-lg"
              />
            </div>

            {/* é€šçŸ¥æ›œæ—¥ */}
            <div>
              <label className="block text-sm font-medium mb-3">
                é€šçŸ¥æ›œæ—¥
              </label>
              <div className="grid grid-cols-7 gap-2">
                {dayNames.map((day, index) => (
                  <button
                    key={index}
                    onClick={() => toggleDay(index)}
                    className={`
                      p-2 rounded-lg font-medium text-sm transition-colors
                      ${
                        settings.days.includes(index)
                          ? 'bg-green-500 text-white'
                          : 'bg-gray-200 text-gray-700'
                      }
                    `}
                  >
                    {day}
                  </button>
                ))}
              </div>
            </div>

            {/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ— */}
            <div>
              <label className="block text-sm font-medium mb-2">
                ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—
              </label>
              <select
                value={settings.messageType}
                onChange={(e) =>
                  setSettings({
                    ...settings,
                    messageType: e.target.value as 'text' | 'flex',
                  })
                }
                className="w-full px-3 py-2 border border-gray-300 rounded-lg"
              >
                <option value="text">ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</option>
                <option value="flex">ãƒªãƒƒãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆæ¨å¥¨ï¼‰</option>
              </select>
            </div>

            {/* ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ */}
            <div>
              <label className="block text-sm font-medium mb-2">
                ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³
              </label>
              <select
                value={settings.timezone}
                onChange={(e) =>
                  setSettings({ ...settings, timezone: e.target.value })
                }
                className="w-full px-3 py-2 border border-gray-300 rounded-lg"
              >
                <option value="Asia/Tokyo">æ—¥æœ¬ (Asia/Tokyo)</option>
                <option value="Asia/Shanghai">ä¸­å›½ (Asia/Shanghai)</option>
                <option value="Asia/Seoul">éŸ“å›½ (Asia/Seoul)</option>
                <option value="UTC">UTC</option>
              </select>
            </div>
          </>
        )}

        {/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º */}
        {message && (
          <div
            className={`p-3 rounded-lg ${
              message.type === 'success'
                ? 'bg-green-100 text-green-800'
                : 'bg-red-100 text-red-800'
            }`}
          >
            {message.text}
          </div>
        )}

        {/* ä¿å­˜ãƒœã‚¿ãƒ³ */}
        <Button
          onClick={saveSettings}
          disabled={isSaving}
          className="w-full"
        >
          {isSaving ? 'ä¿å­˜ä¸­...' : 'è¨­å®šã‚’ä¿å­˜'}
        </Button>
      </div>
    </Card>
  );
}
```

**å®Ÿè£…ãƒã‚§ãƒƒã‚¯**:
```typescript
[ ] ReminderSettings ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…å®Œäº†
[ ] ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ã™ã¹ã¦å®Ÿè£…
[ ] æ›œæ—¥é¸æŠãƒ­ã‚¸ãƒƒã‚¯æ­£ç¢º
[ ] APIé€£æºå®Ÿè£…å®Œäº†
[ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨
```

---

### 7.2 ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®š APIå®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/app/api/settings/reminder/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

/**
 * GET /api/settings/reminder
 *
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šã‚’å–å¾—
 */
export async function GET(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const { data: settings, error } = await supabase
      .from('user_settings')
      .select('*')
      .eq('user_id', user.id)
      .single();

    if (error) {
      // è¨­å®šãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™
      return NextResponse.json({
        enabled: true,
        time: '18:00',
        days: [5], // Friday
        timezone: 'Asia/Tokyo',
        messageType: 'flex',
      });
    }

    return NextResponse.json(settings);
  } catch (error) {
    console.error('[API] Failed to get settings:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}

/**
 * POST /api/settings/reminder
 *
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šã‚’æ›´æ–°
 */
export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const body = await request.json();

    const { enabled, time, days, timezone, messageType } = body;

    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    if (!time || !days || !timezone) {
      return NextResponse.json(
        { error: 'Missing required fields' },
        { status: 400 }
      );
    }

    // æ—¢å­˜è¨­å®šã‚’ç¢ºèª
    const { data: existingSettings } = await supabase
      .from('user_settings')
      .select('id')
      .eq('user_id', user.id)
      .single();

    if (existingSettings) {
      // æ›´æ–°
      const { error: updateError } = await supabase
        .from('user_settings')
        .update({
          reminder_enabled: enabled,
          reminder_time: time,
          reminder_days: days,
          reminder_timezone: timezone,
          line_message_type: messageType,
          updated_at: new Date().toISOString(),
        })
        .eq('user_id', user.id);

      if (updateError) throw updateError;
    } else {
      // æ–°è¦ä½œæˆ
      const { error: insertError } = await supabase
        .from('user_settings')
        .insert({
          user_id: user.id,
          reminder_enabled: enabled,
          reminder_time: time,
          reminder_days: days,
          reminder_timezone: timezone,
          line_message_type: messageType,
        });

      if (insertError) throw insertError;
    }

    return NextResponse.json({ success: true });
  } catch (error) {
    console.error('[API] Failed to update settings:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
```

**å®Ÿè£…ãƒã‚§ãƒƒã‚¯**:
```typescript
[ ] GET ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…å®Œäº†
[ ] POST ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…å®Œäº†
[ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒã‚§ãƒƒã‚¯å®Ÿè£…
[ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
[ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨
```

---

### 7.3 Vercel Cronè¨­å®š

#### ãƒ•ã‚¡ã‚¤ãƒ«: `vercel.json`

```json
{
  "crons": [
    {
      "path": "/api/cron/reminders",
      "schedule": "0 * * * *"
    }
  ]
}
```

**èª¬æ˜**:
```
schedule: "0 * * * *"
         â†“ â†“ â†“ â†“ â†“
        åˆ† æ™‚ æ—¥ æœˆ æ›œæ—¥

0 * * * * = æ¯æ™‚é–“ã®00åˆ†ã«å®Ÿè¡Œ
0 18 * * * = æ¯æ—¥18:00ã«å®Ÿè¡Œ
0 18 * * 5 = æ¯é€±é‡‘æ›œæ—¥18:00ã«å®Ÿè¡Œ
```

---

### 7.4 Cron ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/app/api/cron/reminders/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';
import { LineMessagingService } from '@/lib/line/messaging';
import { reminderMessages } from '@/templates/lineMessages';

/**
 * GET /api/cron/reminders
 *
 * Vercel Cron ã«ã‚ˆã‚Šå®šæœŸçš„ã«å®Ÿè¡Œ
 * ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ¡ä»¶ã‚’æº€ãŸã™ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡
 */
export async function GET(request: NextRequest): Promise<NextResponse> {
  try {
    // ç°¡æ˜“èªè¨¼ï¼ˆæœ¬ç•ªã§ã¯ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼æ¨å¥¨ï¼‰
    const authHeader = request.headers.get('authorization');
    if (!authHeader || authHeader !== `Bearer ${process.env.CRON_SECRET}`) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const supabase = await createClient();

    // 1. ç¾åœ¨æ™‚åˆ»ã¨æ›œæ—¥ã‚’å–å¾—
    const now = new Date();
    const currentHour = now.getHours();
    const currentMinute = now.getMinutes();
    const dayOfWeek = now.getDay();

    // 2. ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—
    // æ³¨: user_settings ãƒ†ãƒ¼ãƒ–ãƒ«ã§:
    //   - reminder_enabled = true
    //   - reminder_time ã«ç¾åœ¨æ™‚åˆ»ãŒä¸€è‡´
    //   - reminder_days ã«ç¾åœ¨ã®æ›œæ—¥ãŒå«ã¾ã‚Œã‚‹
    //   - line_follow_status = 'followed'

    const { data: userSettings, error: selectError } = await supabase
      .from('user_settings')
      .select(
        `
        user_id,
        reminder_time,
        reminder_days,
        reminder_timezone,
        line_message_type,
        profiles:user_id (
          line_user_id,
          name,
          line_follow_status
        )
      `
      )
      .eq('reminder_enabled', true)
      .contains('reminder_days', [dayOfWeek]); // é…åˆ—ãƒ•ã‚£ãƒ«ã‚¿

    if (selectError) {
      console.error('[Cron] Query error:', selectError);
      throw selectError;
    }

    let sent = 0;
    let failed = 0;

    // 3. å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ¡ä»¶ã‚’ç¢ºèª
    for (const setting of userSettings || []) {
      try {
        // æ™‚é–“ãƒã‚§ãƒƒã‚¯ï¼ˆåˆ†å˜ä½ã§å®Ÿè¡Œã•ã‚Œã‚‹ Cron ãªã®ã§ã€æ™‚é–“ã®ã¿ãƒã‚§ãƒƒã‚¯ï¼‰
        const [targetHour] = setting.reminder_time.split(':').map(Number);

        if (targetHour !== currentHour) {
          continue; // å¯¾è±¡æ™‚åˆ»ã§ã¯ãªã„
        }

        // LINE ãƒ¦ãƒ¼ã‚¶ãƒ¼IDç¢ºèª
        const profile = Array.isArray(setting.profiles)
          ? setting.profiles[0]
          : setting.profiles;

        if (
          !profile?.line_user_id ||
          profile.line_follow_status !== 'followed'
        ) {
          continue; // LINE ãƒ•ã‚©ãƒ­ãƒ¼çŠ¶æ…‹ã§ãªã„
        }

        // 4. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
        const message =
          setting.line_message_type === 'flex'
            ? reminderMessages.flexReminder(profile.name || 'ãƒ¦ãƒ¼ã‚¶ãƒ¼')
            : reminderMessages.basic(profile.name || 'ãƒ¦ãƒ¼ã‚¶ãƒ¼');

        await LineMessagingService.sendPushMessage(
          profile.line_user_id,
          message,
          true // ãƒ­ã‚°è¨˜éŒ²
        );

        sent++;
      } catch (error) {
        console.error(
          `[Cron] Failed to send reminder to user:`,
          error
        );
        failed++;
      }
    }

    // 5. çµ±è¨ˆãƒ­ã‚°
    console.log(`[Cron] Reminders sent: ${sent}, Failed: ${failed}`);

    return NextResponse.json({
      success: true,
      sent,
      failed,
      timestamp: new Date().toISOString(),
    });
  } catch (error) {
    console.error('[Cron] Unexpected error:', error);

    // Cron ã¯å¿…ãš 200 ã‚’è¿”ã™ï¼ˆãƒªãƒˆãƒ©ã‚¤é˜²æ­¢ï¼‰
    return NextResponse.json(
      {
        success: false,
        error: error instanceof Error ? error.message : 'Unknown error',
      },
      { status: 200 }
    );
  }
}
```

**å®Ÿè£…ãƒã‚§ãƒƒã‚¯**:
```typescript
[ ] Cron ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…å®Œäº†
[ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šå–å¾—ãƒ­ã‚¸ãƒƒã‚¯æ­£ç¢º
[ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãƒ­ã‚¸ãƒƒã‚¯æ­£ç¢º
[ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨
[ ] ãƒ­ã‚°å‡ºåŠ›é©åˆ‡
```

---

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒä½œæˆå®Œäº†
- [ ] public/rich-menu.jpg ã«é…ç½®
- [ ] richMenu.ts å®Ÿè£…å®Œäº†
- [ ] setupRichMenu.ts ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè£…å®Œäº†
- [ ] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡ŒæˆåŠŸ
- [ ] LINE ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºç¢ºèª

### ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šUI
- [ ] ReminderSettings ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…å®Œäº†
- [ ] ãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½å®Œæˆ
- [ ] APIé€£æºå‹•ä½œç¢ºèª
- [ ] è¨­å®šä¿å­˜å‹•ä½œç¢ºèª

### ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼API
- [ ] /api/settings/reminder GET å®Ÿè£…å®Œäº†
- [ ] /api/settings/reminder POST å®Ÿè£…å®Œäº†
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨

### Cron ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼
- [ ] vercel.json è¨­å®šå®Œäº†
- [ ] /api/cron/reminders å®Ÿè£…å®Œäº†
- [ ] ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ™‚åˆ»è¨ˆç®—æ­£ç¢º
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒ­ã‚¸ãƒƒã‚¯æ­£ç¢º
- [ ] ãƒ­ã‚°è¨˜éŒ²å®Œæˆ

### çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] npm run lint ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] npm run build æˆåŠŸ
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèª
- [ ] Vercel ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª

---

## âœ… å®Œäº†æ¡ä»¶

```
[ ] ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼å®Œå…¨å®Ÿè£…
[ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒ LINE ã§è¡¨ç¤ºã•ã‚Œã‚‹
[ ] ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®šUI å®Œæˆ
[ ] API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‹•ä½œç¢ºèª
[ ] Cron è¨­å®šå®Œäº†
[ ] ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆæˆåŠŸ
[ ] Vercel ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Œäº†
[ ] ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€ä¿¡ç¢ºèª
[ ] TypeScript ã‚¨ãƒ©ãƒ¼ãªã—
[ ] npm run build æˆåŠŸ
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆï¼ˆCronæ¨¡æ“¬ï¼‰

```bash
# ç›´æ¥ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ã¦ãƒ†ã‚¹ãƒˆ
curl -X GET http://localhost:3000/api/cron/reminders \
  -H "Authorization: Bearer your_cron_secret"
```

### æœ¬ç•ªãƒ†ã‚¹ãƒˆï¼ˆVercelï¼‰

```bash
# Vercel ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:
# Project â†’ Settings â†’ Crons
# cron/reminders ã®å®Ÿè¡Œãƒ­ã‚°ã‚’ç¢ºèª
```

### æ‰‹å‹•ãƒ†ã‚¹ãƒˆï¼ˆngrokä½¿ç”¨ï¼‰

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§è¨­å®šã‚’å¤‰æ›´ã—ã¦æ™‚é–“ã‚’é€²ã‚ã‚‹
# ã¾ãŸã¯æ˜æ—¥ã®æ™‚åˆ»ã«è¨­å®šã—ã¦å¾…æ©Ÿ
```

---

## ğŸ”— å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [Vercel Crons](https://vercel.com/docs/crons)
- [LINE Rich Menu API](https://developers.line.biz/ja/docs/messaging-api/using-rich-menu/)
- [Cron Expression Syntax](https://crontab.guru/)

---

**Labels**: `line-integration`, `messaging`, `ui`, `cron`, `day-11`
**Assignee**: @hiiragi17
**Epic**: [EPIC] LINEé€£æºå®Ÿè£… ãƒ•ã‚§ãƒ¼ã‚º2
**Milestone**: Phase 2 - LINE Integration
